<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/style.css"/>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
    <title>Document</title>
</head>
<body>          
    <div class="espaco">

    </div>
    <div id="app">
        <header class="menu">
            <h1 class="logo">AL&Esquadria</h1>
            <nav class="menu-nav">
                <ul class="nav-lista">
                    <li class="nav-item" v-for="item in conteudoNav">
                        <a class="item-link" :href="item.atributo">
                            <i v-if="item.whatsapp" class="fa-brands fa-whatsapp"></i>
                            {{ item.conteudo }}
                        </a>
                    </li>
                </ul>
            </nav>
        </header>        
        <main class="main-container" :id="conteudoNav[2].id">
            <h1 class="main-titulo">{{ tituloMain }}</h1>
            <section class="main-conteudo">
              <div class="scroll-imgs" @scroll="handleScroll">
                <ul class="lista-img">
                  <li v-for="(item, index) in contentCarrossel" :key="index" class="item-img" :class="{'margin': item.margin}">
                    <img :src="item.img" :alt="item.nome" class="img" :ref="'img' + index">
                  </li>
                </ul>
              </div>
              <div class="conteudo">
                <h2 class="titulo-conteudo" >{{ currentTitle }}</h2>
                <p class="texto-da-img">{{ currentContent }}</p>
              </div>
            </section>
          </main>
        </div>
        
        <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
        <script>
          new Vue({
            el: "#app",
            data: {
              conteudoNav: [
                { id:"fala-conosco",atributo: "https://wa.me/5567991262238?text=Olá, gostaria de mais informações.", conteudo: "Fale Conosco", whatsapp: true },
                { id:"inicio",atributo: "#inicio", conteudo: "Inicio", whatsapp: false },
                { id:"servicos",atributo: "#servicos", conteudo: "Serviços", whatsapp: false },
                { id:"sobre",atributo: "#sobre", conteudo: "Sobre", whatsapp: false },
                { id:"contato",atributo: "#contato", conteudo: "Contato", whatsapp: false }
              ],
              tituloMain: "serviços",
              contentCarrossel: [
                { img: "./imagens/porta.jpg", conteudo: "Gourmet Na AL & ESQUADRIAS, oferecemos esquadrias projetadas especialmente para áreas gourmet, unindo resistência, durabilidade e um estilo sofisticado. Nossos produtos são fabricados com alumínio de alta qualidade, o que garante uma estrutura robusta e uma longa vida útil, mesmo sob condições de uso intenso e variações climáticas. Com um design moderno e elegante, as esquadrias são ideais para criar ambientes gourmet requintados, proporcionando uma estética refinada que valoriza e transforma qualquer espaço. A tecnologia avançada empregada na fabricação permite uma instalação rápida e simples, além de exigir pouca manutenção. Disponíveis em diversas opções de acabamentos e cores, as esquadrias da AL & ESQUADRIAS são a escolha perfeita para quem deseja combinar segurança, funcionalidade e um toque de sofisticação em suas áreas gourmet.1", nome: "Porta", margin: true },
                { img: "./imagens/portão.jpg", conteudo: "Na AL & ESQUADRIAS, nossas portas de hall de entrada são a expressão máxima de elegância e segurança. Projetadas para causar uma impressão duradoura, essas portas são fabricadas com alumínio de alta qualidade, garantindo uma estrutura robusta e uma durabilidade excepcional. Com um design sofisticado e moderno, elas oferecem um acabamento impecável que não só valoriza a entrada do seu imóvel, mas também complementa a arquitetura e o estilo do ambiente. As portas de hall de entrada da AL & ESQUADRIAS são ideais para criar uma primeira impressão marcante, combinando proteção eficaz com uma estética atraente. A tecnologia avançada utilizada em nossa fabricação assegura uma instalação sem esforço e uma manutenção mínima, enquanto a ampla gama de acabamentos e cores disponíveis permite personalizar cada porta para atender às suas preferências e necessidades específicas. Escolha nossas portas de hall de entrada para unir beleza e funcionalidade de forma harmoniosa e sofisticada.2", nome: "Portão" },
                { img: "./imagens/ai-gerado-de-entrada-de-estilo-moderno_23-2150692301.jpg", conteudo: "Na AL & ESQUADRIAS, oferecemos uma ampla gama de portas e janelas que combinam funcionalidade, durabilidade e design moderno. Nossos produtos são fabricados com materiais de alta qualidade, como alumínio e vidro de alto desempenho, assegurando uma estrutura robusta e uma longa vida útil. As portas e janelas da AL & ESQUADRIAS são projetadas para atender às mais variadas necessidades, desde garantir segurança e privacidade até proporcionar uma estética sofisticada que valoriza qualquer ambiente. Com diversas opções de acabamentos e personalizações, nossas soluções são ideais para residências e comerciais, proporcionando não apenas uma excelente proteção contra as intempéries, mas também um acabamento elegante e sofisticado. Com fácil instalação e manutenção mínima, nossos produtos são a escolha perfeita para quem busca combinar qualidade e estilo de forma eficiente.3", nome: "Janela" }
              ],
              currentContent: "",
              currentTitle: ""
            },
            mounted() {
              this.updateContent();
            },
            methods: {
              handleScroll() {
                this.updateContent();
              },
              updateContent() {
                const items = this.$el.querySelectorAll('.item-img');
                const scrollPosition = this.$el.querySelector('.scroll-imgs').scrollTop;
                const containerHeight = this.$el.querySelector('.scroll-imgs').offsetHeight;             
                let currentIndex = -1;
                
                items.forEach((item, index) => {
                  const itemPosition = item.offsetTop;
                  const itemHeight = item.offsetHeight;
                  
                  if (scrollPosition >= itemPosition - containerHeight / 2 &&
                      scrollPosition < itemPosition + itemHeight - containerHeight / 2) {
                    currentIndex = index;
                  }
                });
                
                if (currentIndex !== -1) {
                  this.currentContent = this.contentCarrossel[currentIndex].conteudo;
                  this.currentTitle = this.contentCarrossel[currentIndex].nome;
                } else {
                  this.currentContent = "";
                  this.currentTitle = "";
                }

                // Gerenciar a animação do texto
                this.$nextTick(() => {
                  const textElement = this.$el.querySelector('.texto-da-img');
                  textElement.classList.add('fade-out'); // Adiciona a classe fade-out para iniciar a transição
                  
                  // Aguarda a transição terminar para aplicar a nova classe
                  setTimeout(() => {
                    textElement.classList.remove('fade-out'); // Remove a classe fade-out
                    textElement.classList.add('fade-in'); // Adiciona a classe fade-in
                  }, 500); // Duração da transição
                });
                this.$nextTick(() => {
                  const textElement = this.$el.querySelector('.titulo-conteudo');
                  textElement.classList.add('fade-out'); // Adiciona a classe fade-out para iniciar a transição
                  
                  // Aguarda a transição terminar para aplicar a nova classe
                  setTimeout(() => {
                    textElement.classList.remove('fade-out'); // Remove a classe fade-out
                    textElement.classList.add('fade-in'); // Adiciona a classe fade-in
                  }, 500); // Duração da transição
                });
              }
            }
          });
        </script>            
</body>
</html>
